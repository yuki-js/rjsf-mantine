"use strict";(self.webpackChunk_rjsf_docs=self.webpackChunk_rjsf_docs||[]).push([[9130],{876:(e,n,t)=>{t.d(n,{Zo:()=>p,kt:()=>u});var r=t(2784);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var d=r.createContext({}),c=function(e){var n=r.useContext(d),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},p=function(e){var n=c(e.components);return r.createElement(d.Provider,{value:n},e.children)},l="mdxType",m={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},h=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,d=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),l=c(t),h=a,u=l["".concat(d,".").concat(h)]||l[h]||m[h]||i;return t?r.createElement(u,o(o({ref:n},p),{},{components:t})):r.createElement(u,o({ref:n},p))}));function u(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=h;var s={};for(var d in n)hasOwnProperty.call(n,d)&&(s[d]=n[d]);s.originalType=e,s[l]="string"==typeof e?e:a,o[1]=s;for(var c=2;c<i;c++)o[c]=t[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}h.displayName="MDXCreateElement"},4131:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>m,frontMatter:()=>i,metadata:()=>s,toc:()=>c});var r=t(7896),a=(t(2784),t(876));const i={},o="Dependencies",s={unversionedId:"json-schema/dependencies",id:"json-schema/dependencies",title:"Dependencies",description:"react-jsonschema-form supports the dependencies keyword from an earlier draft of JSON Schema (note that this is not part of the latest JSON Schema spec, though). Dependencies can be used to create dynamic schemas that change fields based on what data is entered.",source:"@site/docs/json-schema/dependencies.md",sourceDirName:"json-schema",slug:"/json-schema/dependencies",permalink:"/react-jsonschema-form/docs/json-schema/dependencies",draft:!1,editUrl:"https://github.com/rjsf-team/react-jsonschema-form/tree/main/packages/docs/docs/json-schema/dependencies.md",tags:[],version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Schema definitions and references",permalink:"/react-jsonschema-form/docs/json-schema/definitions"},next:{title:"Objects",permalink:"/react-jsonschema-form/docs/json-schema/objects"}},d={},c=[{value:"Property dependencies",id:"property-dependencies",level:2},{value:"Unidirectional",id:"unidirectional",level:3},{value:"Bidirectional",id:"bidirectional",level:3},{value:"Schema dependencies",id:"schema-dependencies",level:2},{value:"Conditional",id:"conditional",level:3},{value:"Dynamic",id:"dynamic",level:3}],p={toc:c},l="wrapper";function m(e){let{components:n,...t}=e;return(0,a.kt)(l,(0,r.Z)({},p,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"dependencies"},"Dependencies"),(0,a.kt)("p",null,"react-jsonschema-form supports the ",(0,a.kt)("inlineCode",{parentName:"p"},"dependencies")," keyword from an earlier draft of JSON Schema (note that this is not part of the latest JSON Schema spec, though). Dependencies can be used to create dynamic schemas that change fields based on what data is entered."),(0,a.kt)("h2",{id:"property-dependencies"},"Property dependencies"),(0,a.kt)("p",null,"This library supports conditionally making fields required based on the presence of other fields."),(0,a.kt)("h3",{id:"unidirectional"},"Unidirectional"),(0,a.kt)("p",null,"In the following example the ",(0,a.kt)("inlineCode",{parentName:"p"},"billing_address")," field will be required if ",(0,a.kt)("inlineCode",{parentName:"p"},"credit_card")," is defined."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import { RJSFSchema } from '@rjsf/utils';\nimport validator from '@rjsf/validator-ajv8';\n\nconst schema: RJSFSchema = {\n  type: 'object',\n\n  properties: {\n    name: { type: 'string' },\n    credit_card: { type: 'number' },\n    billing_address: { type: 'string' },\n  },\n\n  required: ['name'],\n\n  dependencies: {\n    credit_card: ['billing_address'],\n  },\n};\n\nrender(<Form schema={schema} validator={validator} />, document.getElementById('app'));\n")),(0,a.kt)("h3",{id:"bidirectional"},"Bidirectional"),(0,a.kt)("p",null,"In the following example the ",(0,a.kt)("inlineCode",{parentName:"p"},"billing_address")," field will be required if ",(0,a.kt)("inlineCode",{parentName:"p"},"credit_card")," is defined and the ",(0,a.kt)("inlineCode",{parentName:"p"},"credit_card"),"\nfield will be required if ",(0,a.kt)("inlineCode",{parentName:"p"},"billing_address")," is defined, making them both required if either is defined."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import { RJSFSchema } from '@rjsf/utils';\nimport validator from '@rjsf/validator-ajv8';\n\nconst schema: RJSFSchema = {\n  type: 'object',\n\n  properties: {\n    name: { type: 'string' },\n    credit_card: { type: 'number' },\n    billing_address: { type: 'string' },\n  },\n\n  required: ['name'],\n\n  dependencies: {\n    credit_card: ['billing_address'],\n    billing_address: ['credit_card'],\n  },\n};\n\nrender(<Form schema={schema} validator={validator} />, document.getElementById('app'));\n")),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"(Sample schemas courtesy of the ",(0,a.kt)("a",{parentName:"em",href:"https://spacetelescope.github.io/understanding-json-schema/reference/object.html#property-dependencies"},"Space Telescope Science Institute"),")")),(0,a.kt)("h2",{id:"schema-dependencies"},"Schema dependencies"),(0,a.kt)("p",null,"This library also supports modifying portions of a schema based on form data."),(0,a.kt)("h3",{id:"conditional"},"Conditional"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import { RJSFSchema } from '@rjsf/utils';\nimport validator from '@rjsf/validator-ajv8';\n\nconst schema: RJSFSchema = {\n  type: 'object',\n\n  properties: {\n    name: { type: 'string' },\n    credit_card: { type: 'number' },\n  },\n\n  required: ['name'],\n\n  dependencies: {\n    credit_card: {\n      properties: {\n        billing_address: { type: 'string' },\n      },\n      required: ['billing_address'],\n    },\n  },\n};\n\nrender(<Form schema={schema} validator={validator} />, document.getElementById('app'));\n")),(0,a.kt)("p",null,"In this example the ",(0,a.kt)("inlineCode",{parentName:"p"},"billing_address")," field will be displayed in the form if ",(0,a.kt)("inlineCode",{parentName:"p"},"credit_card")," is defined."),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"(Sample schemas courtesy of the ",(0,a.kt)("a",{parentName:"em",href:"https://spacetelescope.github.io/understanding-json-schema/reference/object.html#schema-dependencies"},"Space Telescope Science Institute"),")")),(0,a.kt)("h3",{id:"dynamic"},"Dynamic"),(0,a.kt)("p",null,"The JSON Schema standard says that the dependency is triggered if the property is present. However, sometimes it's useful to have more sophisticated rules guiding the application of the dependency. For example, maybe you have three possible values for a field, and each one should lead to adding a different question. For this, we support a very restricted use of the ",(0,a.kt)("inlineCode",{parentName:"p"},"oneOf")," keyword."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-tsx"},"import { RJSFSchema } from '@rjsf/utils';\nimport validator from '@rjsf/validator-ajv8';\n\nconst schema: RJSFSchema = {\n  title: 'Person',\n  type: 'object',\n  properties: {\n    'Do you have any pets?': {\n      type: 'string',\n      enum: ['No', 'Yes: One', 'Yes: More than one'],\n      default: 'No',\n    },\n  },\n  required: ['Do you have any pets?'],\n  dependencies: {\n    'Do you have any pets?': {\n      oneOf: [\n        {\n          properties: {\n            'Do you have any pets?': {\n              enum: ['No'],\n            },\n          },\n        },\n        {\n          properties: {\n            'Do you have any pets?': {\n              enum: ['Yes: One'],\n            },\n            'How old is your pet?': {\n              type: 'number',\n            },\n          },\n          required: ['How old is your pet?'],\n        },\n        {\n          properties: {\n            'Do you have any pets?': {\n              enum: ['Yes: More than one'],\n            },\n            'Do you want to get rid of any?': {\n              type: 'boolean',\n            },\n          },\n          required: ['Do you want to get rid of any?'],\n        },\n      ],\n    },\n  },\n};\n\nrender(<Form schema={schema} validator={validator} />, document.getElementById('app'));\n")),(0,a.kt)("p",null,"In this example the user is prompted with different follow-up questions dynamically based on their answer to the first question."),(0,a.kt)("p",null,'In these examples, the "Do you have any pets?" question is validated against the corresponding property in each schema in the ',(0,a.kt)("inlineCode",{parentName:"p"},"oneOf")," array. If exactly one matches, the rest of that schema is merged with the existing schema."))}m.isMDXComponent=!0}}]);